(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c378ea7a"],{"51e1":function(a,e,t){"use strict";t("afea")},7424:function(a,e,t){"use strict";t.r(e);var l=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"app-container"},[t("el-tabs",{on:{"tab-click":a.switchTab},model:{value:a.tabName,callback:function(e){a.tabName=e},expression:"tabName"}},[t("el-tab-pane",{attrs:{label:"支付后广告配置",name:"ad"}},[a.form?t("el-form",{ref:"adForm",attrs:{model:a.form,rules:a.formRules,"label-width":"120px"}},[t("div",{staticClass:"form-title"},[a._v("支付宝")]),t("el-form-item",{attrs:{label:"支付后",prop:"ad_alipay_type"}},[t("el-radio-group",{attrs:{size:"small"},model:{value:a.form["ad_alipay_type"],callback:function(e){a.$set(a.form,"ad_alipay_type",e)},expression:"form['ad_alipay_type']"}},[t("el-radio",{attrs:{label:"",selected:!0}},[a._v("默认")]),t("el-radio",{attrs:{label:"image",selected:!0}},[a._v("展示广告图")]),t("el-radio",{attrs:{label:"link",selected:!0}},[a._v("自动跳转链接")])],1)],1),"image"===a.form["ad_alipay_type"]?t("el-form-item",{attrs:{label:"广告标题",prop:"ad_alipay_image_title"}},[t("el-input",{attrs:{placeholder:"留空则不显示",size:"small"},model:{value:a.form["ad_alipay_image_title"],callback:function(e){a.$set(a.form,"ad_alipay_image_title",e)},expression:"form['ad_alipay_image_title']"}})],1):a._e(),"image"===a.form["ad_alipay_type"]?t("el-form-item",{attrs:{label:"广告图",prop:"ad_alipay_image"}},[t("el-input",{attrs:{placeholder:"输入图片地址或上传图片",size:"small"},model:{value:a.form["ad_alipay_image"],callback:function(e){a.$set(a.form,"ad_alipay_image",e)},expression:"form['ad_alipay_image']"}}),t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",data:{type:"ad_alipay_image"},"http-request":a.uploadImage,"show-file-list":!1,multiple:!1}},[a.form["ad_alipay_image"]?t("img",{staticClass:"avatar",staticStyle:{height:"120px",width:"auto"},attrs:{src:a.form["ad_alipay_image"]}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{width:"237px",height:"120px","line-height":"120px"}})])],1):a._e(),"image"===a.form["ad_alipay_type"]?t("el-form-item",{attrs:{label:"点击跳转",prop:"ad_alipay_image_link"}},[t("el-input",{attrs:{placeholder:"http://",size:"small"},model:{value:a.form["ad_alipay_image_link"],callback:function(e){a.$set(a.form,"ad_alipay_image_link",e)},expression:"form['ad_alipay_image_link']"}})],1):a._e(),"link"===a.form["ad_alipay_type"]?t("el-form-item",{attrs:{label:"链接",prop:"ad_alipay_link"}},[t("el-input",{attrs:{placeholder:"http://",size:"small"},model:{value:a.form["ad_alipay_link"],callback:function(e){a.$set(a.form,"ad_alipay_link",e)},expression:"form['ad_alipay_link']"}})],1):a._e(),t("div",{staticClass:"form-title"},[a._v("微信")]),t("el-alert",{staticStyle:{width:"580px",margin:"10px 20px"},attrs:{title:"微信服务商参加点金计划后，广告将被微信接管，此处配置失效",type:"warning",closable:!1}}),t("el-form-item",{attrs:{label:"支付后",prop:"ad_wxpay_type"}},[t("el-radio-group",{attrs:{size:"small"},model:{value:a.form["ad_wxpay_type"],callback:function(e){a.$set(a.form,"ad_wxpay_type",e)},expression:"form['ad_wxpay_type']"}},[t("el-radio",{attrs:{label:"",selected:!0}},[a._v("默认")]),t("el-radio",{attrs:{label:"image",selected:!0}},[a._v("展示广告图")]),t("el-radio",{attrs:{label:"link",selected:!0}},[a._v("自动跳转链接")])],1)],1),"image"===a.form["ad_wxpay_type"]?t("el-form-item",{attrs:{label:"广告标题",prop:"ad_wxpay_image_title"}},[t("el-input",{attrs:{placeholder:"留空则不显示",size:"small"},model:{value:a.form["ad_wxpay_image_title"],callback:function(e){a.$set(a.form,"ad_wxpay_image_title",e)},expression:"form['ad_wxpay_image_title']"}})],1):a._e(),"image"===a.form["ad_wxpay_type"]?t("el-form-item",{attrs:{label:"广告图",prop:"ad_wxpay_image"}},[t("el-input",{attrs:{placeholder:"输入图片地址或上传图片",size:"small"},model:{value:a.form["ad_wxpay_image"],callback:function(e){a.$set(a.form,"ad_wxpay_image",e)},expression:"form['ad_wxpay_image']"}}),t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",data:{type:"ad_wxpay_image"},"http-request":a.uploadImage,"show-file-list":!1,multiple:!1}},[a.form["ad_wxpay_image"]?t("img",{staticClass:"avatar",staticStyle:{height:"120px",width:"auto"},attrs:{src:a.form["ad_wxpay_image"]}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{width:"237px",height:"120px","line-height":"120px"}})])],1):a._e(),"image"===a.form["ad_wxpay_type"]?t("el-form-item",{attrs:{label:"点击跳转",prop:"ad_wxpay_image_link"}},[t("el-input",{attrs:{placeholder:"http://",size:"small"},model:{value:a.form["ad_wxpay_image_link"],callback:function(e){a.$set(a.form,"ad_wxpay_image_link",e)},expression:"form['ad_wxpay_image_link']"}})],1):a._e(),"link"===a.form["ad_wxpay_type"]?t("el-form-item",{attrs:{label:"链接",prop:"ad_wxpay_link"}},[t("el-input",{attrs:{placeholder:"http://",size:"small"},model:{value:a.form["ad_wxpay_link"],callback:function(e){a.$set(a.form,"ad_wxpay_link",e)},expression:"form['ad_wxpay_link']"}})],1):a._e(),t("el-form-item",{attrs:{label:""}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:a.clickSubmit}},[a._v("提 交")])],1)],1):a._e()],1),t("el-tab-pane",{attrs:{label:"收款音箱配置",name:"speaker"}},[a.form?t("el-form",{ref:"speakerForm",attrs:{model:a.form,rules:a.formRules,"label-width":"120px"}},[t("div",{staticClass:"form-title"},[a._v("深圳品生")]),t("el-form-item",{attrs:{label:"代理账号",prop:"pinsheng_username"}},[t("el-input",{attrs:{placeholder:"厂商分配，获取token使用",size:"small"},model:{value:a.form["pinsheng_username"],callback:function(e){a.$set(a.form,"pinsheng_username",e)},expression:"form['pinsheng_username']"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"pinsheng_password"}},[t("el-input",{attrs:{placeholder:"密码",size:"small"},model:{value:a.form["pinsheng_password"],callback:function(e){a.$set(a.form,"pinsheng_password",e)},expression:"form['pinsheng_password']"}})],1),t("el-form-item",{attrs:{label:""}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:a.clickSubmit}},[a._v("提 交")])],1)],1):a._e()],1)],1)],1)},i=[],r=t("b775");function s(a){return Object(r["a"])({url:"/setting/getSetting",method:"post",data:a})}function o(a){return Object(r["a"])({url:"/setting/setSetting",method:"post",data:a})}function m(a){return Object(r["a"])({url:"/upload/image",method:"post",data:a})}var p={data:function(){return{tabName:"ad",form:null,formRules:{ad_alipay_image:[{required:!0,message:"此项必填",trigger:"blur"}],ad_alipay_link:[{required:!0,message:"此项必填",trigger:"blur"}],ad_wxpay_image:[{required:!0,message:"此项必填",trigger:"blur"}],ad_wxpay_link:[{required:!0,message:"此项必填",trigger:"blur"}],pinsheng_username:[{required:!0,message:"此项必填",trigger:"blur"}],pinsheng_password:[{required:!0,message:"此项必填",trigger:"blur"}]}}},mounted:function(){this.getSetting()},methods:{getSetting:function(){var a=this;s({name:this.tabName}).then((function(e){a.form=e.data}))},switchTab:function(){this.getSetting()},clickSubmit:function(){var a=this,e=null;"ad"===this.tabName?e=this.$refs.adForm:"speaker"===this.tabName&&(e=this.$refs.speakerForm),e&&e.validate((function(e){e?(console.log("this.form",a.form),o({name:a.tabName,data:JSON.stringify(a.form)}).then((function(e){a.getSetting(),a.$message({message:e.message,type:"success",duration:1500})}))):a.$message({message:"请填写必填项",type:"error",duration:1500})}))},uploadImage:function(a){var e=this,t=new FormData;t.append("file",a.file),a.data&&t.append("data",JSON.stringify(a.data)),m(t).then((function(t){"ad_alipay_image"===a.data.type?e.$set(e.form,"ad_alipay_image",t.data.path):"ad_wxpay_image"===a.data.type&&e.$set(e.form,"ad_wxpay_image",t.data.path),e.$message.success("上传成功")}))}}},n=p,_=(t("51e1"),t("2877")),d=Object(_["a"])(n,l,i,!1,null,"9e64a1e2",null);e["default"]=d.exports},afea:function(a,e,t){}}]);